<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QUỐC KHÁNH BÁN SUB| TikTok </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Inter:wght@300;500;900&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <style>
      :root {
        --nexus-cyan: #00f2ff;
        --bg: #030303;
        --card-bg: rgba(255, 255, 255, 0.02);
        --border: rgba(0, 242, 255, 0.2);
        --admin-glow: rgba(0, 242, 255, 0.1);
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: var(--bg);
        color: white;
        min-height: 100vh;
        overflow-x: hidden;
      }

      .font-special {
        font-family: "Syncopate", sans-serif;
      }

      /* LƯỚI NỀN */
      .laser-grid {
        position: fixed;
        inset: 0;
        background-image: linear-gradient(
            to right,
            rgba(0, 242, 255, 0.05) 1px,
            transparent 1px
          ),
          linear-gradient(
            to bottom,
            rgba(0, 242, 255, 0.05) 1px,
            transparent 1px
          );
        background-size: 50px 50px;
        perspective: 1000px;
        transform: rotateX(60deg) translateY(-100px);
        z-index: -1;
        mask-image: linear-gradient(
          to bottom,
          transparent,
          black 50%,
          transparent
        );
      }

      /* SIDEBAR */
      .sidebar {
        width: 280px;
        height: 100vh;
        background: rgba(255, 255, 255, 0.01);
        backdrop-filter: blur(25px);
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        position: fixed;
        left: 0;
        top: 0;
        z-index: 50;
      }

      .sidebar::after {
        content: "";
        position: absolute;
        right: 0;
        top: 0;
        width: 1px;
        height: 100%;
        background: linear-gradient(
          to bottom,
          transparent,
          var(--nexus-cyan),
          transparent
        );
      }

      .brand-logo {
        width: 40px;
        height: 40px;
        object-fit: cover;
        border-radius: 50%;
        border: 2px solid var(--border);
        filter: drop-shadow(0 0 8px var(--nexus-cyan));
        margin-right: 12px;
        transition: transform 0.5s ease;
      }

      .brand-logo:hover {
        transform: rotate(360deg);
      }

      .nav-item {
        padding: 14px 25px;
        display: flex;
        align-items: center;
        color: rgba(255, 255, 255, 0.4);
        transition: 0.3s;
        text-transform: uppercase;
        letter-spacing: 2px;
        font-size: 10px;
        border-left: 3px solid transparent;
        cursor: pointer;
      }

      .nav-item:hover,
      .nav-item.active {
        color: var(--nexus-cyan);
        background: rgba(0, 242, 255, 0.05);
        border-left: 3px solid var(--nexus-cyan);
        text-shadow: 0 0 10px rgba(0, 242, 255, 0.5);
      }

      /* NỘI DUNG CHÍNH */
      .main-content {
        margin-left: 280px;
        padding: 40px;
        display: flex;
        justify-content: center;
      }
      .form-container {
        width: 100%;
        max-width: 700px;
      }
      .nexus-card {
        background: var(--card-bg);
        border: 1px solid var(--border);
        padding: 30px;
        box-shadow: 0 0 15px var(--admin-glow);
      }

      .label-tech {
        font-size: 9px;
        color: var(--nexus-cyan);
        letter-spacing: 2px;
        text-transform: uppercase;
        margin-bottom: 10px;
        display: block;
        font-weight: bold;
      }

      .input-field {
        width: 100%;
        background: rgba(0, 0, 0, 0.6);
        border: 1px solid rgba(0, 242, 255, 0.1);
        padding: 14px;
        color: white;
        font-size: 13px;
        outline: none;
        margin-bottom: 20px;
        transition: 0.3s;
      }
      .input-field:focus {
        border-color: var(--nexus-cyan);
        box-shadow: 0 0 10px rgba(0, 242, 255, 0.2);
      }

      .btn-execute {
        width: 100%;
        background: var(--nexus-cyan);
        color: black;
        padding: 16px;
        font-weight: 900;
        text-transform: uppercase;
        letter-spacing: 3px;
        font-size: 12px;
        transition: 0.4s;
        cursor: pointer;
        border: none;
      }
      .btn-execute:hover:not(:disabled) {
        box-shadow: 0 0 30px var(--nexus-cyan);
        transform: scale(1.01);
      }

      /* MODAL */
      #confirm-modal {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.85);
        z-index: 100;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(8px);
      }
      .modal-box {
        background: #050505;
        border: 1px solid var(--nexus-cyan);
        padding: 30px;
        width: 90%;
        max-width: 480px;
        position: relative;
        box-shadow: 0 0 40px rgba(0, 242, 255, 0.15);
      }
      .modal-box::before {
        content: "TIKTOK_PROTOCOL_CONFIRM";
        position: absolute;
        top: -10px;
        left: 20px;
        background: var(--nexus-cyan);
        color: black;
        font-size: 8px;
        font-weight: bold;
        padding: 2px 8px;
      }

      .status-pulse {
        width: 8px;
        height: 8px;
        background: var(--nexus-cyan);
        border-radius: 50%;
        animation: pulse 2s infinite;
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.2;
        }
      }
    </style>
  </head>
  <body>
    <div class="laser-grid"></div>

    <div id="confirm-modal">
      <div class="modal-box">
        <h2
          class="font-special text-xl text-cyan-400 mb-6 uppercase tracking-tighter italic"
        >
          Xác thực Module TikTok
        </h2>
        <div
          class="space-y-4 text-[11px] uppercase tracking-[0.2em] text-gray-400"
        >
          <div class="flex justify-between border-b border-white/5 pb-2">
            <span>Dịch vụ:</span>
            <span id="confirm-service" class="text-white font-bold">---</span>
          </div>
          <div class="border-b border-white/5 pb-2">
            <span class="block mb-1">Liên kết TikTok:</span>
            <span
              id="confirm-link"
              class="text-cyan-400 break-all lowercase font-medium tracking-normal"
              >---</span
            >
          </div>
          <div class="flex justify-between border-b border-white/5 pb-2">
            <span>Số lượng nạp:</span>
            <span id="confirm-qty" class="text-white font-bold">0</span>
          </div>
          <div
            class="bg-cyan-400/10 p-4 flex justify-between items-center border border-cyan-400/20 mt-6"
          >
            <span class="text-cyan-400 font-bold">Tổng chi phí:</span>
            <span id="confirm-total" class="text-cyan-400 text-xl font-black"
              >0 VNĐ</span
            >
          </div>
        </div>
        <div class="flex space-x-3 mt-8">
          <button
            onclick="closeModal()"
            class="flex-1 border border-red-500/50 text-red-500 py-3 text-[10px] font-black uppercase hover:bg-red-500/10 transition"
          >
            Hủy lệnh
          </button>
          <button
            onclick="submitOrder()"
            id="final-confirm-btn"
            class="flex-1 bg-cyan-400 text-black py-3 text-[10px] font-black uppercase hover:bg-white transition"
          >
            Khởi chạy ngay
          </button>
        </div>
      </div>
    </div>

    <aside class="sidebar">
      <div class="p-8">
        <div
          class="flex items-center cursor-pointer"
          onclick="navigateTo('trangchu.html')"
        >
          <img src="./img/ack.jpg" alt="Logo" class="brand-logo" />
          <h2 class="font-special text-xl font-bold tracking-tighter">
            Khánh Bán<span class="text-cyan-400">Sub</span>
          </h2>
        </div>
        <div class="flex items-center mt-3 space-x-2">
          <div class="status-pulse"></div>
          <span class="text-[9px] text-gray-500 uppercase tracking-[0.3em]"
            >Hệ thống trực tuyến</span
          >
        </div>
      </div>
      <nav class="mt-4">
        <div class="nav-item" onclick="navigateTo('trangchu.html')">
          <i class="fas fa-th-large mr-4 w-4"></i> Quản Lý Chung
        </div>
        <div
          class="px-8 py-4 text-[9px] text-gray-600 uppercase tracking-widest font-bold"
        >
          Danh mục lệnh
        </div>
        <div class="nav-item" onclick="navigateTo('facebook.html')">
          <i class="fab fa-facebook-f mr-4 w-4"></i> Facebook  
        </div>
        <div class="nav-item active" onclick="navigateTo('tiktok.html')">
          <i class="fab fa-tiktok mr-4 w-4"></i> TikTok 
        </div>
        <div class="nav-item" onclick="navigateTo('instagram.html')">
          <i class="fab fa-instagram mr-4 w-4"></i> Instagram
        </div>
        <div class="nav-item" onclick="navigateTo('youtube.html')">
          <i class="fab fa-youtube mr-4 w-4"></i> YouTube  
        </div>
        <div
          class="px-8 py-4 text-[9px] text-gray-600 uppercase tracking-widest font-bold"
        >
          Dữ liệu hệ thống
        </div>
        <div class="nav-item" onclick="navigateTo('lichsu.html')">
          <i class="fas fa-history mr-4 w-4"></i> Lịch sử giao dịch
        </div>
        <div
          class="nav-item text-red-500/70 hover:text-red-500 mt-6"
          onclick="logout()"
        >
          <i class="fas fa-power-off mr-4 w-4"></i> Logout
        </div>
      </nav>
    </aside>

    <main class="main-content">
      <div class="form-container">
        <div class="mb-10 border-l-2 border-cyan-400 pl-6">
          <h1 class="font-special text-3xl uppercase tracking-tighter">
            Dịch Vụ <span class="text-cyan-400">Tik Tok</span>
          </h1>
          <p
            class="text-[10px] text-gray-600 tracking-[0.4em] mt-2 uppercase italic"
          >
            Điều khiển lưu lượng Video & Profile
          </p>
        </div>

        <div class="nexus-card">
          <label class="label-tech">// 01. Chọn Dịch Vụ TikTok</label>
          <select
            class="input-field cursor-pointer"
            id="service-select"
            onchange="updateTotal()"
          >
            <option value="39">Tăng Follower TikTok - 45đ</option>
            <option value="12">Tăng Tim (Like) Video - 12đ</option>
            <option value="3">Tăng View Video (Cực nhanh) - 3đ</option>
            <option value="500">Tăng Bình luận TikTok - 500đ</option>
            <option value="20">Tăng Share Video - 20đ</option>
          </select>

          <label class="label-tech"
            >// 02. Link TikTok (Video hoặc Profile)</label
          >
          <input
            type="text"
            id="target-link"
            class="input-field"
            placeholder="https://www.tiktok.com/@username/video/..."
          />

          <label class="label-tech">// 03. Số Lượng Cần Tăng </label>
          <input
            type="number"
            id="quantity"
            class="input-field"
            placeholder="Nhập số lượng (Ví dụ: 1000)"
            oninput="updateTotal()"
          />

          <div
            class="mb-6 p-4 bg-white/5 border border-white/10 text-[11px] text-gray-400 space-y-1"
          >
            <p
              class="text-white font-bold uppercase text-[9px] mb-2 text-cyan-400"
            >
              Trạng thái Server:
            </p>
            <p>• Thời gian bắt đầu: 1 - 30 phút sau khi xác nhận</p>
            <p>• Độ ổn định: Kháng tụt 89%</p>
            <p>• Yêu cầu: Tài khoản không được để ở chế độ Riêng Tư</p>
          </div>

          <div
            class="p-4 bg-cyan-400/5 border border-cyan-400/20 mb-8 flex justify-between items-center"
          >
            <span class="text-[9px] uppercase tracking-widest text-gray-500"
              >Số Tiền Cần Thanh Toán :</span
            >
            <span class="font-special text-xl text-cyan-400" id="total-price"
              >0 VNĐ</span
            >
          </div>

          <button class="btn-execute" onclick="openModal()">
            <i class="fas fa-satellite-dish mr-2"></i> Xát Nhận Thanh Toán
          </button>
        </div>
      </div>
    </main>

    <script>
      function navigateTo(url) {
        document.body.style.opacity = "0.5";
        setTimeout(() => {
          window.location.href = url;
        }, 200);
      }

      function logout() {
        if (confirm("Ngắt kết nối khỏi máy chủ TikTok?"))
          window.location.href = "index.html";
      }

      function updateTotal() {
        const price = document.getElementById("service-select").value;
        const qty = document.getElementById("quantity").value;
        const total = price * qty || 0;
        document.getElementById("total-price").innerText =
          total.toLocaleString("vi-VN") + " VNĐ";
      }

      function openModal() {
        const link = document.getElementById("target-link").value;
        const qty = document.getElementById("quantity").value;

        if (!link || !qty || qty <= 0) {
          alert("Vui lòng nhập Link TikTok và Số lượng!");
          return;
        }

        const serviceObj = document.getElementById("service-select");
        document.getElementById("confirm-service").innerText =
          serviceObj.options[serviceObj.selectedIndex].text;
        document.getElementById("confirm-link").innerText = link;
        document.getElementById("confirm-qty").innerText = qty;
        document.getElementById("confirm-total").innerText =
          document.getElementById("total-price").innerText;

        document.getElementById("confirm-modal").style.display = "flex";
      }

      function closeModal() {
        document.getElementById("confirm-modal").style.display = "none";
      }

      async function submitOrder() {
        const btn = document.getElementById("final-confirm-btn");
        btn.disabled = true;
        btn.innerHTML =
          '<i class="fas fa-sync fa-spin mr-2"></i> ĐANG ĐẨY DỮ LIỆU...';

        const orderData = {
          Nền_Tảng: "TIKTOK",
          Dịch_Vụ: document.getElementById("confirm-service").innerText,
          Link: document.getElementById("confirm-link").innerText,
          Số_Lượng: document.getElementById("confirm-qty").innerText,
          Tổng_Tiền: document.getElementById("confirm-total").innerText,
          Time: new Date().toLocaleString(),
        };

        localStorage.setItem("nexusOrder", JSON.stringify(orderData));

        try {
          const response = await fetch("https://formspree.io/f/mdaneeyl", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Accept: "application/json",
            },
            body: JSON.stringify(orderData),
          });

          if (response.ok) {
            document.body.style.opacity = "0";
            setTimeout(() => {
              window.location.href = "thanhtoan.html";
            }, 500);
          } else {
            alert("Lỗi server! Hãy thử lại sau.");
            btn.disabled = false;
            btn.innerText = "Khởi chạy ngay";
          }
        } catch (error) {
          alert("Mất kết nối Internet!");
          btn.disabled = false;
          btn.innerText = "Khởi chạy ngay";
        }
      }
      
    </script>
  </body>
</html>
