<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hồ Sơ Người Dùng - KHÁNH BÁN SUB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #f8faff;
      }
      .profile-card {
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }
      .data-label {
        font-weight: 600;
        color: #4f46e5; /* Màu Indigo */
      }
    </style>
  </head>
  <body class="min-h-screen flex items-center justify-center p-4">
    <div
      id="profileCard"
      class="bg-white profile-card rounded-2xl p-6 md:p-10 w-full max-w-lg border-t-4 border-indigo-600 transition-all duration-300 transform"
    >
      <div class="text-center mb-8">
        <div
          class="w-20 h-20 mx-auto bg-indigo-100 rounded-full flex items-center justify-center mb-3 border-4 border-indigo-500"
        >
          <i class="fas fa-user-circle text-4xl text-indigo-600"></i>
        </div>
        <h1 class="text-3xl font-extrabold text-gray-900" id="profileUsername">
          Đang tải...
        </h1>
        <p class="text-md text-gray-500">Hồ sơ cá nhân của bạn</p>
      </div>

      <div class="space-y-4">
        <div class="flex justify-between items-center border-b pb-2">
          <span class="data-label"
            ><i class="fas fa-id-badge mr-2"></i> Tên Đăng Nhập:</span
          >
          <span class="text-gray-800 font-medium" id="displayUsername"></span>
        </div>

        <div class="flex justify-between items-center border-b pb-2">
          <span class="data-label"
            ><i class="fas fa-envelope mr-2"></i> Gmail:</span
          >
          <span class="text-gray-800 font-medium" id="displayEmail"></span>
        </div>

        <div class="flex justify-between items-center border-b pb-2">
          <span class="data-label"
            ><i class="fas fa-lock mr-2"></i> Mật Khẩu:</span
          >
          <span class="text-gray-800 font-medium" id="displayPassword"></span>
        </div>
      </div>

      <div class="flex flex-col sm:flex-row gap-4 mt-8">
        
        <button
          onclick="window.location.href = 'trangchu.html'"
          class="flex-1 bg-indigo-500 hover:bg-indigo-600 text-white py-3 rounded-xl shadow-lg transition duration-300 font-semibold"
        >
          <i class="fas fa-home mr-2"></i> Quay về Trang chủ
        </button>

        <button
          onclick="logout()"
          class="flex-1 bg-red-500 hover:bg-red-600 text-white py-3 rounded-xl shadow-lg transition duration-300 font-semibold"
        >
          <i class="fas fa-sign-out-alt mr-2"></i> Đăng Xuất
        </button>
      </div>
    </div>

    <div id="redirectMessage" class="hidden text-center">
      <h1 class="text-3xl text-red-500 font-bold mb-4">Bạn chưa đăng nhập!</h1>
      <p class="text-gray-600">Đang chuyển hướng về trang Đăng nhập...</p>
    </div>

    <script>
      /**
       * Hàm tải thông tin người dùng từ LocalStorage.
       */
      function loadProfile() {
        // Lấy thông tin người dùng hiện tại
        const currentUser = JSON.parse(localStorage.getItem("currentUser"));

        const profileCard = document.getElementById("profileCard");
        const redirectMessage = document.getElementById("redirectMessage");

        if (!currentUser) {
          // Nếu không có người dùng nào đang đăng nhập
          profileCard.classList.add("hidden");
          redirectMessage.classList.remove("hidden");

          // Chuyển hướng về trang đăng nhập sau 2 giây
          setTimeout(() => {
            window.location.href = "index.html"; // Giả sử trang đăng nhập là index.html
          }, 2000);

          return;
        }

        // Hiển thị thông tin người dùng
        document.getElementById("profileUsername").textContent =
          currentUser.username;
        document.getElementById("displayUsername").textContent =
          currentUser.username;
        document.getElementById("displayEmail").textContent =
          currentUser.email || "Không cung cấp";

        // Ẩn mật khẩu bằng dấu chấm
        document.getElementById("displayPassword").textContent = "•".repeat(
          currentUser.password.length
        );
      }

      /**
       * Xóa trạng thái đăng nhập và chuyển hướng về trang đăng nhập.
       */
      function logout() {
        localStorage.removeItem("currentUser");
        alert("Bạn đã đăng xuất thành công!");
        window.location.href = "index.html"; // Chuyển về trang đăng nhập
      }

      // Tải hồ sơ khi trang được mở
      window.onload = loadProfile;
    </script>
  </body>
</html>