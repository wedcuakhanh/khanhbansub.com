<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Khánh Bán Sub | Hệ Thống Điều Hành</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Inter:wght@300;500;900&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <style>
      :root {
        --accent: #00f2ff;
        --bg: #030303;
        --card-bg: rgba(255, 255, 255, 0.02);
        --border: rgba(0, 242, 255, 0.2);
        --admin-glow: rgba(0, 242, 255, 0.1);
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: var(--bg);
        color: white;
        min-height: 100vh;
        overflow-x: hidden;
      }

      .font-special {
        font-family: "Syncopate", sans-serif;
      }

      /* Lưới nền */
      .laser-grid {
        position: fixed;
        inset: 0;
        background-image: linear-gradient(to right, rgba(0, 242, 255, 0.05) 1px, transparent 1px),
                          linear-gradient(to bottom, rgba(0, 242, 255, 0.05) 1px, transparent 1px);
        background-size: 50px 50px;
        perspective: 1000px;
        transform: rotateX(60deg) translateY(-100px);
        z-index: -1;
        mask-image: linear-gradient(to bottom, transparent, black 50%, transparent);
      }

      /* Mobile Header */
      .mobile-header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 60px;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        align-items: center;
        padding: 0 20px;
        z-index: 100;
        border-bottom: 1px solid var(--border);
        backdrop-filter: blur(10px);
      }

      @media (min-width: 1024px) {
        .mobile-header { display: none; }
      }

      /* Sidebar tối ưu Mobile */
      .sidebar {
        width: 280px;
        height: 100vh;
        background: rgba(5, 5, 5, 0.98);
        backdrop-filter: blur(25px);
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        position: fixed;
        left: -280px;
        top: 0;
        z-index: 150;
        transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .sidebar.active { left: 0; }

      @media (min-width: 1024px) {
        .sidebar { left: 0; background: rgba(255, 255, 255, 0.01); }
      }

      .sidebar-overlay {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.8);
        z-index: 140;
      }
      .sidebar-overlay.active { display: block; }

      .brand-logo {
        width: 35px;
        height: 35px;
        object-fit: cover;
        border-radius: 50%;
        border: 2px solid var(--border);
        filter: drop-shadow(0 0 5px var(--accent));
      }

      .nav-item {
        padding: 14px 25px;
        display: flex;
        align-items: center;
        color: rgba(255, 255, 255, 0.4);
        transition: 0.3s;
        text-transform: uppercase;
        letter-spacing: 2px;
        font-size: 10px;
        border-left: 3px solid transparent;
        cursor: pointer;
      }

      .nav-item:hover, .nav-item.active {
        color: var(--accent);
        background: rgba(0, 242, 255, 0.05);
        border-left: 3px solid var(--accent);
        text-shadow: 0 0 10px rgba(0, 242, 255, 0.5);
      }

      .main-content {
        padding: 80px 15px 40px 15px;
        transition: 0.3s;
      }

      @media (min-width: 1024px) {
        .main-content { margin-left: 280px; padding: 40px; }
      }

      .admin-post {
        background: var(--card-bg);
        border: 1px solid var(--border);
        border-radius: 4px;
        margin-bottom: 25px;
        box-shadow: 0 0 15px var(--admin-glow);
        overflow: hidden;
        backdrop-filter: blur(5px);
      }

      .post-image-container {
        margin-top: 15px;
        border: 1px solid rgba(0, 242, 255, 0.2);
        background: #000;
        overflow: hidden;
      }

      .post-image-container img {
        width: 100%;
        height: auto;
        opacity: 0.85;
      }

      .status-pulse {
        width: 8px;
        height: 8px;
        background: var(--accent);
        border-radius: 50%;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; box-shadow: 0 0 5px var(--accent); }
        50% { opacity: 0.3; }
      }

      .blur-bg { filter: blur(15px); pointer-events: none; }

      #notice-modal {
        position: fixed;
        inset: 0;
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        background: rgba(0, 0, 0, 0.85);
      }

      .notice-box {
        background: #0a0a0a;
        border: 1px solid #00f2ff;
        width: 100%;
        max-width: 450px;
        padding: 25px;
        box-shadow: 0 0 50px rgba(0, 242, 255, 0.2);
      }
    </style>
  </head>
  <body>
    <div id="notice-modal">
      <div class="notice-box">
        <div class="flex items-center gap-3 border-b border-cyan-400/20 pb-4 mb-4">
          <i class="fas fa-bullhorn text-cyan-400 text-xl"></i>
          <h2 class="font-special text-xs tracking-widest text-cyan-400">THÔNG BÁO QUAN TRỌNG</h2>
        </div>

        <div class="space-y-4 text-[10px] text-gray-400 uppercase tracking-wider leading-relaxed">
          <p>> <span class="text-white">FANPAGE CHÍNH THỨC:</span> 
            <a href="https://www.facebook.com/profile.php?id=61580607883714" target="_blank" class="text-cyan-400 underline ml-1">Khánh Bán Sub</a>
          </p>
          <p>> <span class="text-white">CẢNH BÁO:</span> HIỆN TẠI CÓ NHIỀU TRANG GIẢ MẠO, VUI LÒNG CHỈ GIAO DỊCH TẠI ĐÂY.</p>
          <p>> <span class="text-white">BẢO TRÌ:</span> HỆ THỐNG NẠP THẺ CÀO SẼ BẢO TRÌ VÀO 12H ĐÊM NAY.</p>
          
          <div class="p-3 bg-cyan-400/5 border border-cyan-400/10 italic text-cyan-400 normal-case text-center">
            "Sự hài lòng của khách hàng là ưu tiên số 1 của chúng tôi!"
          </div>
        </div>

        <button class="w-full bg-cyan-400 text-black py-3 mt-6 font-special text-[10px] font-bold tracking-widest hover:tracking-[0.2em] transition-all" onclick="acceptNotice()">
          XÁC NHẬN & TRUY CẬP
        </button>
      </div>
    </div>

    <header class="mobile-header">
      <button onclick="toggleSidebar()" class="text-cyan-400 text-xl mr-4">
        <i class="fas fa-bars"></i>
      </button>
      <div class="flex items-center">
        <img src="./img/ack.jpg" alt="Logo" class="brand-logo mr-2" />
        <h2 class="font-special text-xs font-bold tracking-tighter">Khánh Bán<span class="text-cyan-400">Sub</span></h2>
      </div>
    </header>

    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <div id="main-content-wrapper" class="blur-bg">
      <div class="laser-grid"></div>
      
      <aside class="sidebar" id="sidebarMenu">
        <div class="p-8">
          <div class="flex items-center justify-between">
            <div class="flex items-center cursor-pointer" onclick="navigateTo('trangchu.html')">
              <img src="./img/ack.jpg" alt="Logo" class="brand-logo mr-3" />
              <h2 class="font-special text-lg font-bold tracking-tighter">Khánh Bán<span class="text-cyan-400">Sub</span></h2>
            </div>
            <button onclick="toggleSidebar()" class="lg:hidden text-gray-500"><i class="fas fa-times"></i></button>
          </div>
          <div class="flex items-center mt-3 space-x-2">
            <div class="status-pulse"></div>
            <span class="text-[9px] text-gray-500 uppercase tracking-widest">Hệ thống trực tuyến</span>
          </div>
        </div>

        <nav class="mt-4">
          <div class="nav-item active" onclick="navigateTo('trangchu.html')"><i class="fas fa-th-large mr-4 w-4"></i> Quản Lý Chung</div>
          <div class="px-8 py-4 text-[9px] text-gray-600 uppercase font-bold">Dịch vụ mạng xã hội</div>
          <div class="nav-item" onclick="navigateTo('facebook.html')"><i class="fab fa-facebook-f mr-4 w-4"></i> Facebook</div>
          <div class="nav-item" onclick="navigateTo('tiktok.html')"><i class="fab fa-tiktok mr-4 w-4"></i> TikTok</div>
          <div class="nav-item" onclick="navigateTo('instagram.html')"><i class="fab fa-instagram mr-4 w-4"></i> Instagram</div>
          <div class="nav-item" onclick="navigateTo('youtube.html')"><i class="fab fa-youtube mr-4 w-4"></i> YouTube</div>
          <div class="px-8 py-4 text-[9px] text-gray-600 uppercase font-bold">Cá nhân</div>
          <div class="nav-item" onclick="navigateTo('lichsu.html')"><i class="fas fa-history mr-4 w-4"></i> Trò Chơi Mai Mắn</div>
          <div class="nav-item text-red-500/70 mt-6" onclick="logout()"><i class="fas fa-power-off mr-4 w-4"></i> Logout</div>
        </nav>
      </aside>

      <main class="main-content">
        <div class="max-w-[600px] mx-auto">
          <div class="mb-10 border-l-2 border-cyan-400 pl-4 lg:pl-6">
            <h1 class="font-special text-xl lg:text-3xl uppercase tracking-tighter">Hệ Thống <span class="text-cyan-400">Điều Hành</span></h1>
            <p class="text-[8px] lg:text-[10px] text-gray-600 tracking-[0.3em] mt-2 uppercase">Giao thức bảo mật mã hóa 256-BIT</p>
          </div>

          <div class="admin-post">
            <div class="flex items-center p-4 border-b border-white/5">
              <div class="w-10 h-10 border border-cyan-400 flex items-center justify-center bg-cyan-400/10 rounded">
                <i class="fas fa-user-cog text-cyan-400"></i>
              </div>
              <div class="ml-4">
                <h4 class="font-special text-[10px] text-white">Khánh Bán Sub</h4>
                <p class="text-[8px] text-gray-500 uppercase mt-1">Ghim hệ thống • Vừa xong</p>
              </div>
            </div>
            <div class="p-4">
              <span class="text-[9px] text-cyan-400 font-bold block mb-2">// THÔNG BÁO CẬP NHẬT</span>
              <p class="text-xs text-gray-400 leading-relaxed">
                Hệ thống vừa cập nhật thêm cụm Server Facebook mới (Speed cực nhanh). 
                Các đơn hàng tăng Like/Sub sẽ được xử lý ngay lập tức sau khi nhấn thanh toán.
              </p>
              <div class="post-image-container">
                <img src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=800&q=80" alt="Status" />
                <div class="p-2 bg-black/80 text-[7px] text-cyan-400 font-mono">STATUS: OPTIMIZED // SERVER_LOAD: 12%</div>
              </div>
            </div>
          </div>

          <div class="admin-post">
            <div class="flex items-center p-4 border-b border-white/5">
              <div class="w-10 h-10 border border-cyan-400 flex items-center justify-center bg-cyan-400/10 rounded">
                <i class="fas fa-shield-alt text-cyan-400"></i>
              </div>
              <div class="ml-4">
                <h4 class="font-special text-[10px] text-white">Security Center</h4>
                <p class="text-[8px] text-gray-500 uppercase mt-1">Bảo mật • 2 giờ trước</p>
              </div>
            </div>
            <div class="p-4">
              <span class="text-[9px] text-cyan-400 font-bold block mb-2">// HƯỚNG DẪN BẢO MẬT</span>
              <p class="text-xs text-gray-400 leading-relaxed">
                Để đảm bảo an toàn cho tài khoản, vui lòng không chia sẻ mật khẩu hoặc nội dung chuyển khoản cho người lạ. 
                Hệ thống chỉ hỗ trợ qua Fanpage chính chủ duy nhất.
              </p>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script>
      function toggleSidebar() {
        document.getElementById('sidebarMenu').classList.toggle('active');
        document.getElementById('sidebarOverlay').classList.toggle('active');
      }

      function navigateTo(url) {
        document.body.style.opacity = "0.5";
        setTimeout(() => { window.location.href = url; }, 200);
      }

      function logout() {
        if (confirm("Xác nhận ngắt kết nối hệ thống (Logout)?")) {
          window.location.href = "index.html";
        }
      }

      function acceptNotice() {
        const modal = document.getElementById("notice-modal");
        const wrapper = document.getElementById("main-content-wrapper");
        modal.style.opacity = "0";
        modal.style.transition = "0.5s";
        setTimeout(() => {
          modal.style.display = "none";
          wrapper.classList.remove("blur-bg");
        }, 500);
      }
    </script>
  </body>
</html>
<div id="cyber-chat" class="fixed bottom-5 right-5 z-[9999] font-sans">
    <button onclick="toggleChat()" id="chat-trigger" class="relative group">
        <div class="absolute -inset-1 bg-cyan-400 rounded-full blur opacity-25 group-hover:opacity-75 transition duration-300"></div>
        <div class="relative w-14 h-14 bg-black border border-cyan-400 rounded-full flex items-center justify-center shadow-[0_0_20px_rgba(0,242,255,0.4)] overflow-hidden">
            <img src="./img/ack.jpg" class="w-full h-full object-cover" onerror="this.src='https://i.imgur.com/8Km9tpg.png'">
        </div>
        <div class="absolute top-0 right-0 w-4 h-4 bg-green-500 border-2 border-black rounded-full animate-pulse"></div>
    </button>

    <div id="chat-window" class="hidden absolute bottom-20 right-0 w-[320px] sm:w-[400px] bg-[#050505] border border-cyan-400 shadow-[0_0_50px_rgba(0,0,0,0.9)] flex flex-col overflow-hidden rounded-xl">
        
        <div class="bg-gradient-to-r from-cyan-950 to-black border-b border-cyan-400/30 p-0">
            <div class="flex justify-between items-center p-4 pb-2">
                <div class="flex items-center gap-2">
                    <span class="font-special text-[10px] text-cyan-400 tracking-tighter">KHÁNH BÁN SUB SYSTEM</span>
                </div>
                <button onclick="toggleChat()" class="text-gray-500 hover:text-cyan-400"><i class="fas fa-times"></i></button>
            </div>
            <div class="flex text-[9px] font-bold uppercase tracking-widest cursor-pointer">
                <div id="tab-bot" onclick="switchTab('bot')" class="flex-1 py-2 text-center border-b-2 border-cyan-400 text-cyan-400">Trợ Lý AI</div>
                <div id="tab-global" onclick="switchTab('global')" class="flex-1 py-2 text-center border-b-2 border-transparent text-gray-500 hover:text-cyan-200">Cộng Đồng</div>
            </div>
        </div>

        <div id="chat-messages" class="h-96 overflow-y-auto p-4 space-y-4 text-[12px] scrollbar-thin bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]">
            </div>

        <div class="p-3 border-t border-cyan-400/20 bg-black/80">
            <div class="flex gap-2 items-center">
                <input type="text" id="chat-input" placeholder="Nhập tin nhắn..." class="flex-1 bg-cyan-950/20 border border-cyan-900 px-3 py-2 text-xs text-cyan-100 focus:outline-none focus:border-cyan-400">
                <button onclick="sendMessage()" class="bg-cyan-400 text-black px-4 py-2 text-[10px] font-black uppercase hover:bg-white transition-all">Gửi</button>
            </div>
            <div class="mt-2 flex justify-center gap-4">
                <a href="https://www.facebook.com/quoc.khanh.280706" target="_blank" class="text-[9px] text-gray-500 hover:text-blue-400"><i class="fab fa-facebook-messenger mr-1"></i> Messenger</a>
                <a href="0376447206" target="_blank" class="text-[9px] text-gray-500 hover:text-blue-300"><i class="fas fa-phone-alt mr-1"></i> Zalo Admin</a>
            </div>
        </div>
    </div>
</div>

<style>
    #chat-window { animation: chatAppear 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28); }
    @keyframes chatAppear { from { transform: scale(0.8) translateY(100px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }
    .msg-bubble { padding: 10px; border-radius: 10px; max-width: 85%; position: relative; border: 1px solid rgba(0, 242, 255, 0.1); }
    .user-style { background: rgba(0, 242, 255, 0.1); border-color: rgba(0, 242, 255, 0.3); align-self: flex-end; color: #fff; }
    .bot-style { background: rgba(255, 255, 255, 0.05); align-self: flex-start; color: #ccc; }
    .global-user-style { background: rgba(255, 255, 255, 0.02); border-color: rgba(255, 255, 255, 0.1); align-self: flex-start; }
</style>

<script>
   let currentTab = 'bot';
    const chatMessages = document.getElementById('chat-messages');
    const chatInput = document.getElementById('chat-input');

    // Danh sách nội dung chat ảo cho thật nhất
    const virtualUsers = ["Hoàng Nam", "Minh Tuấn", "Thanh Hằng", "User_99x", "Admin_Support", "Khách_Ẩn_Danh", "Trùm_Sub", "Quốc Anh", "Mai Phương"];
    const virtualMessages = [
        "Vừa nạp 100k, hệ thống duyệt nhanh quá!",
        "Dịch vụ bên Khánh lúc nào cũng uy tín.",
        "Mọi người cho hỏi gói sub nào lên nhanh nhất?",
        "Tăng 1000 follow TikTok chỉ mất 10 phút, quá đỉnh!",
        "Ae nạp tiền cứ quét mã QR là nhanh nhất nhé.",
        "Check ib hỗ trợ mình với admin ơi.",
        "Hệ thống mượt thật, không thấy lag tí nào.",
        "Follow này có bảo hành không mọi người?",
        "Mới test thử 20k follow, lên đều lắm ae.",
        "Bảo hành bù sub ở đâu vậy ạ?",
        "Cảm ơn Admin Khánh nhé, đơn xong rồi ạ.",
        "Tăng view YouTube có bị tụt không nhỉ?"
    ];

    // Hàm chuyển Tab
    function switchTab(tab) {
        currentTab = tab;
        document.getElementById('tab-bot').className = `flex-1 py-2 text-center border-b-2 ${tab === 'bot' ? 'border-cyan-400 text-cyan-400' : 'border-transparent text-gray-500'}`;
        document.getElementById('tab-global').className = `flex-1 py-2 text-center border-b-2 ${tab === 'global' ? 'border-cyan-400 text-cyan-400' : 'border-transparent text-gray-500'}`;
        
        chatMessages.innerHTML = '';
        if (tab === 'bot') {
            loadBotWelcome();
        } else {
            // Load tin nhắn cũ khi vào tab cộng đồng
            appendMsg('Admin_Khánh', 'Chào mừng mọi người đến với nhóm chat chung!', 'bot-style');
        }
    }

    // Gửi tin nhắn
    function sendMessage() {
        const text = chatInput.value.trim();
        if (!text) return;
        appendMsg('BẠN', text, 'user-style');
        chatInput.value = '';

        if (currentTab === 'bot') {
            setTimeout(() => botReply(text.toLowerCase()), 700);
        }
    }

    // Hàm hiển thị tin nhắn
    function appendMsg(sender, text, style) {
        const div = document.createElement('div');
        div.className = `flex flex-col ${sender === 'BẠN' ? 'items-end' : 'items-start'} animate-fadeIn mb-4`;
        div.innerHTML = `
            <span class="text-[8px] text-gray-500 mb-1 px-1 font-mono">${sender} • ${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</span>
            <div class="msg-bubble ${style} text-[11px]">${text}</div>
        `;
        chatMessages.appendChild(div);
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // LOGIC CHAT ẢO (MỖI 8 GIÂY)
    setInterval(() => {
        if (currentTab === 'global') {
            const randomUser = virtualUsers[Math.floor(Math.random() * virtualUsers.length)];
            const randomMsg = virtualMessages[Math.floor(Math.random() * virtualMessages.length)];
            
            // Chỉ gửi tin nhắn ảo nếu Tab đang mở là Cộng Đồng
            appendMsg(randomUser, randomMsg, 'global-user-style shadow-[0_0_10px_rgba(255,255,255,0.02)]');
        }
    }, 8000); // 8000ms = 8 giây

    function botReply(input) {
        let r = "Hệ thống chưa hiểu lệnh. Nhập 'ADMIN' để gặp Trần Khánh.";
        if (input.includes('nạp')) r = "Bạn quét QR Bank, tiền sẽ vào tài khoản sau 1-5p.";
        if (input.includes('giá')) r = "Giá được cập nhật tại trang dịch vụ, cam kết rẻ nhất.";
        if (input.includes('admin')) r = "Liên hệ Admin qua Messenger: <a href='https://m.me/quoc.khanh.280706' target='_blank' class='text-cyan-400 underline'>Tại đây</a>";
        appendMsg('BOT_AI', r, 'bot-style');
    }

    function toggleChat() { document.getElementById('chat-window').classList.toggle('hidden'); }
    switchTab('bot'); // Khởi tạo
</script>